---
description: å¿«é€Ÿæäº¤è®Šæ›´åˆ°ç›®å‰åˆ†æ”¯ (ä¸æ¨é€)
---

# Commit Workflow

## æ­¥é©Ÿ 0ï¼šğŸ§¹ æäº¤å‰æ¸…ç† (Pre-commit Cleanup)

åœ¨å°‡è®Šæ›´å¯«å…¥ç‰ˆæœ¬åº«ä¹‹å‰ï¼Œä¿æŒå·¥ä½œå€æ•´æ½”æ˜¯å¥½ç¿’æ…£ã€‚

1. **æª¢æŸ¥å»¢æ£„æª”æ¡ˆ**ï¼šæ˜¯å¦æœ‰æ¸¬è©¦ç”¨çš„ `.json`ã€è‡¨æ™‚å ±è¡¨æˆ– `.bak` å‚™ä»½æª”ï¼Ÿ
2. **æ¸…ç†å»ºè­°**ï¼šè‹¥æœ‰ç™¼ç¾ï¼Œå»ºè­°ä½¿ç”¨ `git clean` æˆ–æ‰‹å‹•åˆªé™¤ã€‚
3. **å¿½ç•¥è¨­å®š**ï¼šè‹¥æª”æ¡ˆéœ€è¦ä¿ç•™ä½†ä¸æäº¤ï¼Œè«‹ç¢ºä¿å·²åŠ å…¥ `.gitignore`ã€‚

åŸ·è¡Œå¿«é€Ÿæƒæï¼š

```bash
git clean -ndX  # é¡¯ç¤ºæœƒè¢«å¿½ç•¥ä½†æœªè¿½è¹¤çš„æª”æ¡ˆ (Dry Run)
git status --short
```

## æ­¥é©Ÿ 1ï¼šæ–‡ä»¶åŒæ­¥æª¢æŸ¥ï¼ˆå¼·åˆ¶ï¼‰

åœ¨æäº¤å‰ï¼Œç¢ºèªä»¥ä¸‹æ–‡ä»¶æ˜¯å¦éœ€è¦å› æ‡‰ä»Šæ—¥è®Šæ›´è€Œæ›´æ–°ï¼š

| æª”æ¡ˆ                   | æª¢æŸ¥é‡é»                     | ç‹€æ…‹ |
| ---------------------- | ---------------------------- | ---- |
| **README.md**          | å°ˆæ¡ˆèªªæ˜ã€ç›®éŒ„çµæ§‹           | â˜    |
| **CHANGELOG.md**       | æ›´æ–°ç‰ˆæœ¬è®Šæ›´å…§å®¹ç´€éŒ„         | â˜    |
| **TODO.md**            | æ¨™è¨˜å®Œæˆé …ç›®ã€æ›´æ–°é€²è¡Œä¸­å€å¡Š | â˜    |
| **docs/FEATURES.md**   | æ–°å¢/ä¿®æ”¹åŠŸèƒ½èªªæ˜            | â˜    |
| **docs/COMPONENTS.md** | æ–°å¢/ä¿®æ”¹ UI çµ„ä»¶èªªæ˜        | â˜    |
| **docs/SITEMAP.md**    | é é¢è·¯ç”±è®Šå‹•                 | â˜    |
| **CHANGELOG.md**       | æ›´æ–°ç‰ˆæœ¬è®Šæ›´å…§å®¹ç´€éŒ„         | â˜    |

## æ­¥é©Ÿ 1.1ï¼šğŸ§¹ TODO è‡ªå‹•æ­¸æª” (Mandatory)

åœ¨ Commit ä¹‹å‰ï¼Œå¿…é ˆå®Œæˆ Backlog æƒæï¼š

1. **æƒæå®Œæˆé …**ï¼šæª¢æŸ¥ `TODO.md` ä¸­æ˜¯å¦æœ‰ `[x]`ã€‚
2. **ç«‹å³æ­¸æª”**ï¼šå°‡ `[x]` é …ç›®ç§»å‹•è‡³åº•éƒ¨çš„ `## ğŸ å·²å®Œæˆæ­¸æª” (Archived)`ï¼Œä¸¦é™„ä¸Šä»Šæ—¥æ—¥æœŸã€‚
3. **æ›´æ–°æ¨™é¡ŒåŸºæº–**ï¼šç¢ºèª `TODO.md` é ‚éƒ¨çš„æœ€å¾Œæ›´æ–°æ—¥æœŸå·²ä¿®æ­£ã€‚

æª¢æŸ¥æ­¤æ¬¡è®Šæ›´æ˜¯å¦åŒ…å«å¯è¤‡ç”¨çš„å¥½é»å­ï¼Œæ‡‰åŒæ­¥å› **Second-Brain**ï¼š

| è®Šæ›´é¡å‹                     | æ‡‰åŒæ­¥åˆ° Second-Brain |
| ---------------------------- | --------------------- |
| æ–°å¢ `.agent/workflows/*.md` | â­ æ˜¯ (é€šç”¨å·¥ä½œæµç¨‹)   |
| æ–°å¢ `.agent/prompts/*.md`   | â­ æ˜¯ (é€šç”¨ AI è§’è‰²)   |
| æ–°å¢ `knowledge/*.md`        | â­ æ˜¯ (æ€ç¶­æ¨¡å‹)       |
| Commit å« `[reusable]` æ¨™è¨˜  | â­ æ˜¯                  |

> ğŸ’¡ è‹¥æœ‰å¯è¤‡ç”¨é …ç›®ï¼Œæäº¤å¾ŒåŸ·è¡Œ `/sync-to-brain`

## æ­¥é©Ÿ 2.5ï¼šğŸ¤– å°ˆå®¶å¯©æŸ¥ (PM & CTO Review)

> âš ï¸ åœ¨åŸ·è¡Œ git commit ä¹‹å‰ï¼Œ**å»ºè­°**è«‹ PM èˆ‡ CTO é€²è¡Œæœ€å¾Œç¢ºèªï¼ˆç‰¹åˆ¥æ˜¯é‡å¤§æ¶æ§‹è®Šæ›´ï¼‰ã€‚

1. **PM å¯©æ ¸**ï¼š
   - ç¢ºèªç›®æ¨™é”æˆç‡ã€Backlog å„ªå…ˆé †åºã€‚
   - **æª¢æŸ¥å‰©é¤˜é …**ï¼šç¢ºèªæ˜¯å¦æœ‰æ–°çš„ Technical Debt æˆ– Follow-up items éœ€è¦åŠ å…¥å¾…è¾¦æ¸…å–®ã€‚
2. **CTO å¯©æ ¸**ï¼šç¢ºèªä»£ç¢¼è³ªé‡ã€æ¶æ§‹ä¸€è‡´æ€§èˆ‡æŠ€è¡“å‚µã€‚

**æŒ‡ä»¤ç¯„ä¾‹**ï¼š
`/help pm cto è«‹ review ä»¥ä¸Šè®Šæ›´èˆ‡æ–‡ä»¶åŒæ­¥ç‹€æ³ï¼Œæº–å‚™é€²è¡Œ commitã€‚`

## æ­¥é©Ÿ 2.8ï¼šğŸ‘€ ç”¨æˆ¶é©—è­‰ (User Verification)

> ğŸ›‘ **Critical Stop**: åœ¨æäº¤ä¹‹å‰ï¼Œå¿…é ˆè®“ç”¨æˆ¶æœ‰æ©Ÿæœƒæª¢è¦–çµæœã€‚

1. **æš«åœåŸ·è¡Œ**ï¼šä¸è¦è‡ªå‹•é€£çºŒåŸ·è¡Œ `git add/commit`ã€‚
2. **é€šçŸ¥ç”¨æˆ¶**ï¼šä½¿ç”¨ `notify_user` å‘ŠçŸ¥è®Šæ›´å·²å®Œæˆï¼Œè«‹æ±‚ç¢ºèªã€‚
3. **ç­‰å¾…æ‰¹å‡†**ï¼šç”¨æˆ¶å›æ‡‰ LGTM æˆ–ç¢ºèªå¾Œï¼Œå†ç¹¼çºŒæ­¥é©Ÿ 4ã€‚

// turbo

## æ­¥é©Ÿ 3ï¼šæ ¼å¼åŒ–ç¨‹å¼ç¢¼ (Optional)

> ğŸ’¡ åœ¨æäº¤å‰è‡ªå‹•æ ¼å¼åŒ–ï¼Œä¿æŒä»£ç¢¼é¢¨æ ¼ä¸€è‡´ã€‚

```bash
npx prettier --write "**/*.{html,js,jsx,css,md}" --ignore-path .gitignore
```

## æ­¥é©Ÿ 4ï¼šæäº¤è®Šæ›´ (Commit)

git add . && git commit -m "[message]"
