<!doctype html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>宿霧薄荷島・大云永續</title>
    <!-- 1. Google Fonts (Inter + DM Sans + Noto Serif JP) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&family=Inter:wght@400;700;800;900&family=DM+Sans:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <!-- 2. 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#0F2540", // Shimakaze Deep Blue
              accent: "#C5A059", // Champagne Gold
              dark: "#1C1C1E", // Elegant Black
              subtle: "#6E6E73", // Apple-like Grey
              surface: "#F5F5F0", // Washi Paper White
              star: "#D4AF37", // Gold
              love: "#C32F2F", // Deep Red
            },
            borderRadius: {
              "3xl": "24px",
              "4xl": "32px",
            },
            fontFamily: {
              display: ['"Noto Serif JP"', "serif"],
              body: ['"DM Sans"', "sans-serif"],
            },
          },
        },
      };
    </script>
    <!-- 3. 引入 React 和 ReactDOM -->
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <!-- 4. 引入 Babel 用來解析 JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- 5. 引入共用樣式 -->
    <link rel="stylesheet" href="/trips/shared/styles.css" />
    
    <!-- 6. 引入共用元件庫 (需要 Babel 處理 JSX) -->
    <script src="/trips/shared/config.js"></script>
    <script type="text/babel" src="/trips/shared/icons.js"></script>
    <script type="text/babel" src="/trips/shared/components.js"></script>
  </head>

  <body
    class="bg-surface font-body text-dark selection:bg-accent/20 selection:text-primary"
  >
    <div id="root"></div>

    <script type="text/babel">
      // --- 0. 初始化 - 從 shared 元件庫引入 Icons ---
      const { useState, useEffect, useRef } = React;
      
      // 從共用元件庫引入圖示
      const Icons = window.TripShared.Icons;
      const {
        MapIcon,
        Calendar,
        Wallet,
        Train,
        Utensils,
        Hotel,
        ArrowRight,
        Leaf,
        Star,
        Info,
        MapPin,
        PlaneDeparture,
        PlaneArrival,
        Phone,
      } = Icons;

      // --- 1. 資料常數 (Cebu Data) ---
      const CEBU_DATA = {
        flight: {
          out: {
            date: "DAY 1",
            code: "BR281",
            time: "08:20 - 11:15",
            from: "桃園機場 (T2)",
            to: "宿霧機場",
            airline: "長榮航空",
          },
          in: {
            date: "DAY 5",
            code: "BR282",
            time: "12:30 - 15:20",
            from: "宿霧機場",
            to: "桃園機場",
            airline: "長榮航空",
          },
          meeting: "06:00 桃園機場第二航廈長榮櫃檯集合",
        },
        contact: [
          { role: "領隊", name: "徐海華", phone: "0982-767-580" },
          { role: "山富窗口", name: "陳俊霖", phone: "0978-629-067" },
        ],
        itinerary: [
          {
            day: "Day 1",
            title: "出發 & 前往薄荷島",
            events: [
              {
                time: "08:20",
                title: "搭乘長榮 BR281",
                desc: "前往宿霧 (11:15 抵達)",
                icon: "PlaneDeparture",
              },
              {
                time: "午餐",
                title: "中式海鮮餐",
                desc: "地點：南餐廳 (餐標 P800)",
                icon: "Utensils",
              },
              {
                time: "下午",
                title: "前往薄荷島",
                desc: "搭乘交通船 (商務艙)",
                icon: "Train",
              },
              {
                time: "晚餐",
                title: "蜜蜂農場菲式料理",
                desc: "加贈冰淇淋每人一球 (餐標 P850)",
                icon: "Utensils",
              },
              {
                time: "住宿",
                title: "Henann Premier Coast Resort",
                desc: "赫納高級海岸度假村",
                icon: "Hotel",
              },
            ],
          },
          {
            day: "Day 2",
            title: "薄荷島生態與海洋",
            note: "★ 特別贈送：菲式按摩",
            events: [
              {
                time: "上午",
                title: "行程二選一",
                desc: "A. 飯店自由活動\nB. 沙丁魚浮潛",
                icon: "MapIcon",
              },
              {
                time: "午餐",
                title: "MAAYO 網紅餐廳",
                desc: "菲式海鮮料理 (餐標 P750)",
                icon: "Utensils",
              },
              {
                time: "下午",
                title: "薄荷島陸上觀光",
                desc: "巧克力山 & 比翼雙飛觀景坪 ➝ 迷你眼鏡猴",
                icon: "MapIcon",
              },
              {
                time: "晚上",
                title: "遊河晚餐 & 螢火蟲",
                desc: "河畔景觀遊河晚餐 ➝ 夜觀螢火蟲",
                icon: "Star",
              },
              {
                time: "住宿",
                title: "Henann Premier Coast Resort",
                desc: "赫納高級海岸度假村",
                icon: "Hotel",
              },
            ],
          },
          {
            day: "Day 3",
            title: "返回宿霧",
            events: [
              {
                time: "上午",
                title: "行程二選一",
                desc: "A. 邦勞南方農場手作DIY\nB. 自由活動享受飯店設施",
                icon: "MapIcon",
              },
              {
                time: "午餐",
                title: "渡假村內精緻午餐",
                desc: "",
                icon: "Utensils",
              },
              {
                time: "下午",
                title: "返回宿霧",
                desc: "搭乘交通船 (商務艙) ➝ 飯店辦理入住",
                icon: "Train",
              },
              {
                time: "晚餐",
                title: "Parola 沙灘海景餐廳",
                desc: "科爾多瓦 (餐標 P1000)",
                icon: "Utensils",
              },
              {
                time: "住宿",
                title: "Fili Hotel NUSTAR Cebu",
                desc: "宿霧 菲力酒店",
                icon: "Hotel",
              },
            ],
          },
          {
            day: "Day 4",
            title: "宿霧市區 & 海洋公園",
            events: [
              {
                time: "上午",
                title: "自由活動 & 購物",
                desc: "享受飯店設施 ➝ SM Seaside City Cebu 購物廣場",
                icon: "MapIcon",
              },
              {
                time: "活動",
                title: "弓箭射擊體驗",
                desc: "每人 18 發",
                icon: "Star",
              },
              {
                time: "午餐",
                title: "冬陽火烤吃到飽",
                desc: "+飲料暢飲 (餐標 P750)",
                icon: "Utensils",
              },
              {
                time: "下午",
                title: "宿霧 Ocean Park",
                desc: "海洋公園參觀",
                icon: "MapIcon",
              },
              {
                time: "晚餐",
                title: "海底晚餐 (5 Course)",
                desc: "Ocean Park 水族館內 (餐標 P1700)",
                icon: "Utensils",
              },
              {
                time: "住宿",
                title: "Fili Hotel NUSTAR Cebu",
                desc: "宿霧 菲力酒店",
                icon: "Hotel",
              },
            ],
          },
          {
            day: "Day 5",
            title: "返程",
            events: [
              {
                time: "上午",
                title: "享受飯店設施",
                desc: "收拾行李",
                icon: "Hotel",
              },
              {
                time: "12:30",
                title: "搭乘長榮 BR282",
                desc: "前往機場 ➝ 返回溫暖的家",
                icon: "PlaneArrival",
              },
              {
                time: "餐食",
                title: "早：飯店｜午：機上｜晚：X",
                desc: "",
                icon: "Utensils",
              },
            ],
          },
        ],
        hotels: [
          {
            name: "Henann Premier Coast Resort",
            cnName: "赫納高級海岸度假村",
            loc: "薄荷島",
            desc: "坐落於薄荷島,擁有清澈海水與迷人海灘(Alona Beach)。設施包含令人嘆為觀止的空中泳池、正宗菲律賓美食及專業水療服務。",
            img: "https://images.unsplash.com/photo-1582719508461-905c673771fd?q=80&w=2525&auto=format&fit=crop",
            map: "https://www.google.com/maps/search/?api=1&query=Henann+Premier+Coast+Resort+Bohol",
          },
          {
            name: "Fili Hotel NUSTAR Cebu",
            cnName: "宿霧 菲力酒店",
            loc: "宿霧市區",
            desc: "位於宿霧市中心,結合賭場、夜店、酒吧的綜合娛樂城。鄰近麥哲倫十字架、聖嬰大教堂等歷史景點。擁有唯美泳池與豐富的水上樂園。",
            img: "https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?q=80&w=2670&auto=format&fit=crop",
            map: "https://www.google.com/maps/search/?api=1&query=Fili+Hotel+NUSTAR+Cebu",
          },
        ],
        dining: [
          {
            name: "Parola 海景餐廳",
            loc: "科爾多瓦 (Cordova)",
            price: "餐標 P1000",
            desc: "開放式露天餐廳,一邊欣賞壯麗日落海景,一邊享用正宗菲律賓美食。遠離城市喧囂的絕佳放鬆地點。",
            tags: ["海景", "日落", "菲式"],
            img: "./images/parola.jpg",
            map: "https://www.google.com/maps/search/?api=1&query=Parola+Seaview+Restaurant+Cordova",
          },
          {
            name: "Ocean Park 海底晚餐",
            loc: "Aqua Dining (海洋公園內)",
            price: "餐標 P1700 (5 Course)",
            desc: "在迷人的海底隧道中用餐,四周環繞著海洋生物。提供精緻美食、友善服務及現場火熱釀食秀。",
            tags: ["海底隧道", "精緻", "氛圍"],
            img: "./images/ocean.jpg",
            map: "https://www.google.com/maps/search/?api=1&query=Cebu+Ocean+Park",
          },
        ],
      };

      // --- 2. Header Component ---
      const Header = () => (
        <header className="relative w-full py-32 px-6 text-white overflow-hidden">
          <a
            href="/me/?booted=true"
            className="absolute top-6 left-6 z-50 p-3 bg-white/10 backdrop-blur-md rounded-full text-white hover:bg-white/20 transition-all border border-white/20 shadow-lg group"
            title="回到首頁"
          >
            <ArrowRight
              className="transform rotate-180 group-hover:scale-110 transition-transform"
              size={20}
            />
          </a>

         <div
            className="absolute inset-0 bg-cover bg-center"
            style={{ backgroundImage: "url('./images/cebu-bg.jpg')" }}
          />
          <div className="absolute inset-0 bg-gradient-to-b from-black/40 via-black/20 to-black/60" />

          <div className="relative z-10 max-w-5xl mx-auto text-center">
            <div className="inline-flex items-center gap-2 mb-4 px-4 py-2 bg-white/10 backdrop-blur-md rounded-full border border-white/20">
              <Leaf size={16} className="text-accent" />
              <span className="text-xs font-bold tracking-widest uppercase">
                2025 Company Trip
              </span>
            </div>

            <h1 className="font-display text-6xl md:text-7xl font-bold mb-4 animate-fade-up">
              宿霧・薄荷島
            </h1>

            <p className="text-lg md:text-xl opacity-90 font-medium animate-fade-up animate-fade-up-delay-1">
              大云永續生態之旅
            </p>

            <div className="mt-8 flex flex-wrap justify-center gap-4 text-sm animate-fade-up animate-fade-up-delay-2">
              <div className="flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-md rounded-lg">
                <Calendar size={18} />
                <span>5天4夜</span>
              </div>
              <div className="flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-md rounded-lg">
                <MapPin size={18} />
                <span>菲律賓</span>
              </div>
            </div>
          </div>
        </header>
      );

      // --- 3. Navigation Component ---
      const Navigation = ({ activeTab, setActiveTab }) => {
        const tabs = [
          { id: "itinerary", label: "行程", Icon: Calendar },
          { id: "hotels", label: "飯店", Icon: Hotel },
          { id: "dining", label: "餐食", Icon: Utensils },
          { id: "info", label: "資訊", Icon: Info },
        ];

        return (
          <nav className="sticky top-0 z-40 bg-white/95 backdrop-blur-md border-b border-gray-100 shadow-sm">
            <div className="max-w-5xl mx-auto">
              <div className="flex justify-around">
                {tabs.map(({ id, label, Icon }) => (
                  <button
                    key={id}
                    onClick={() => setActiveTab(id)}
                    className={`flex-1 py-4 flex flex-col items-center gap-1 transition-colors ${
                      activeTab === id
                        ? "text-primary font-bold"
                        : "text-subtle hover:text-primary"
                    }`}
                  >
                    <Icon
                      size={24}
                      className={
                        activeTab === id ? "transform -translate-y-0.5" : ""
                      }
                    />
                    <span className="text-xs tracking-wide">{label}</span>
                  </button>
                ))}
              </div>
            </div>
          </nav>
        );
      };

      // --- 4. Flight Card Component ---
      const FlightCard = ({ flight, direction }) => {
        const isOutbound = direction === "out";
        const Icon = isOutbound ? PlaneDeparture : PlaneArrival;

        return (
          <div className="bg-primary text-white rounded-3xl p-6 mb-8 shadow-lg relative overflow-hidden animate-fade-up">
            <div className="absolute right-[-20px] top-[-30px] opacity-10 text-9xl">
              <Icon size={120} className="text-accent" />
            </div>

            <div className="relative z-10">
              <p className="text-xs font-bold tracking-widest uppercase opacity-70 mb-2">
                {isOutbound ? "Outbound Flight" : "Return Flight"}
              </p>

              <div className="flex items-baseline gap-3 mb-6">
                <h2 className="text-4xl font-display font-bold">
                  {flight.code}
                </h2>
                <span className="text-sm opacity-80">{flight.airline}</span>
              </div>

              <div className="flex items-center justify-between text-sm font-medium mb-6">
                <div className="text-center">
                  <div className="text-3xl font-bold mb-1">
                    {flight.time.split(" - ")[0]}
                  </div>
                  <div className="text-xs opacity-70">TPE</div>
                </div>

                <div className="flex-1 px-4 flex flex-col items-center">
                  <div className="text-xs opacity-60 mb-1">2h 55m</div>
                  <div className="h-px w-full bg-white/20 relative">
                    <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full bg-accent" />
                  </div>
                </div>

                <div className="text-center">
                  <div className="text-3xl font-bold mb-1">
                    {flight.time.split(" - ")[1]}
                  </div>
                  <div className="text-xs opacity-70">CEB</div>
                </div>
              </div>

              {isOutbound && (
                <div className="text-xs bg-white/10 backdrop-blur-md inline-flex items-center px-3 py-2 rounded-lg border border-white/10">
                  <Info size={14} className="text-accent mr-2" />
                  {flight.meeting}
                </div>
              )}
            </div>
          </div>
        );
      };

      // --- 5. Day Card Component ---
      const DayCard = ({ day, index }) => (
        <div
          className="bg-white rounded-3xl p-6 mb-6 shadow-lg animate-fade-up"
          style={{ animationDelay: `${index * 0.1}s` }}
        >
          <div className="flex justify-between items-center mb-6 pl-2 border-l-4 border-accent">
            <div>
              <h3 className="text-xl font-display font-bold text-primary">
                {day.day}
              </h3>
              <p className="text-xs text-subtle font-bold tracking-wide uppercase mt-0.5">
                {day.title}
              </p>
            </div>
          </div>

          {day.note && (
            <div className="bg-yellow-50 text-yellow-700 text-xs p-3 rounded-xl mb-6 border border-yellow-100 flex items-start">
              <Star size={14} className="text-accent mr-2 mt-0.5 flex-shrink-0" />
              <div>{day.note}</div>
            </div>
          )}

          <div className="space-y-6">
            {day.events.map((event, idx) => {
              const IconComponent = Icons[event.icon] || Info;
              return (
                <div key={idx} className="flex items-start group">
                  <div className="w-14 pt-1">
                    <span className="text-sm font-bold text-accent font-mono">
                      {event.time}
                    </span>
                  </div>

                  <div className="flex-1 pb-6 border-b border-gray-100 last:border-0 relative">
                    <div className="absolute left-[-23px] top-2 w-2 h-2 rounded-full bg-gray-200 group-hover:bg-accent transition-colors" />

                    <h4 className="text-base font-bold text-primary mb-1 flex items-center gap-2">
                      <IconComponent size={16} className="text-accent" />
                      {event.title}
                    </h4>

                    {event.desc && (
                      <p className="text-sm text-subtle leading-relaxed whitespace-pre-line">
                        {event.desc}
                      </p>
                    )}
                  </div>
                </div>
              );
            })}
          </div>
        </div>
      );

      // --- 6. Hotel Card Component ---
      const HotelCard = ({ hotel, index }) => (
        <div
          className="bg-white rounded-3xl overflow-hidden mb-8 shadow-lg group animate-fade-up"
          style={{ animationDelay: `${index * 0.1}s` }}
        >
          <div className="h-64 w-full relative overflow-hidden">
            <img
              src={hotel.img}
              alt={hotel.name}
              className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
            />

            <div className="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent" />

            <div className="absolute bottom-0 left-0 w-full p-6">
              <div className="flex items-center gap-2 mb-2">
                <span className="inline-flex items-center gap-1 px-3 py-1 bg-white/20 backdrop-blur-md text-white border border-white/20 rounded-full text-xs font-medium">
                  <MapPin size={12} />
                  {hotel.loc}
                </span>
              </div>

              <h3 className="text-white font-display font-bold text-2xl mb-1">
                {hotel.name}
              </h3>
              <p className="text-white/80 text-xs tracking-wide">
                {hotel.cnName}
              </p>
            </div>
          </div>

          <div className="p-6">
            <p className="text-sm text-subtle leading-relaxed mb-4">
              {hotel.desc}
            </p>

            <div className="flex gap-2 border-t border-gray-100 pt-4 mb-4">
              <span className="px-3 py-1 bg-gray-50 text-xs font-medium text-subtle rounded-full">
                泳池
              </span>
              <span className="px-3 py-1 bg-gray-50 text-xs font-medium text-subtle rounded-full">
                Wifi
              </span>
              <span className="px-3 py-1 bg-gray-50 text-xs font-medium text-subtle rounded-full">
                早餐
              </span>
            </div>

            <a
              href={hotel.map}
              target="_blank"
              rel="noopener noreferrer"
              className="block w-full py-3 rounded-xl bg-primary text-white text-xs font-bold tracking-widest uppercase hover:bg-opacity-90 transition-opacity text-center"
            >
              View on Map
            </a>
          </div>
        </div>
      );

      // --- 7. Dining Card Component ---
      const DiningCard = ({ dining, index }) => (
        <div
          className="bg-white rounded-3xl overflow-hidden mb-8 shadow-lg animate-fade-up"
          style={{ animationDelay: `${index * 0.1}s` }}
        >
          <div className="h-56 w-full relative">
            <img
              src={dining.img}
              alt={dining.name}
              className="w-full h-full object-cover"
            />
            <div className="absolute top-4 right-4 bg-white/90 backdrop-blur text-primary text-xs font-bold px-3 py-1.5 rounded-lg shadow-sm">
              {dining.price}
            </div>
          </div>

          <div className="p-6">
            <h3 className="text-xl font-display font-bold text-primary mb-2">
              {dining.name}
            </h3>

            <div className="flex items-center text-xs text-subtle mb-4">
              <MapPin size={14} className="text-accent mr-1.5" />
              {dining.loc}
            </div>

            <p className="text-sm text-subtle leading-relaxed mb-4">
              {dining.desc}
            </p>

            <div className="flex gap-2 flex-wrap">
              {dining.tags.map((tag, idx) => (
                <span
                  key={idx}
                  className="px-3 py-1 border border-accent/20 text-accent bg-accent/5 text-xs font-medium rounded-full"
                >
                  #{tag}
                </span>
              ))}
            </div>
          </div>
        </div>
      );

      // --- 8. Contact Card Component ---
      const ContactCard = ({ contact }) => (
        <div className="flex justify-between items-center p-3 bg-surface rounded-xl">
          <div>
            <p className="text-[10px] uppercase text-subtle font-bold mb-0.5">
              {contact.role}
            </p>
            <p className="text-sm font-bold text-primary">{contact.name}</p>
          </div>
          <a
            href={`tel:${contact.phone}`}
            className="w-8 h-8 rounded-full bg-white flex items-center justify-center text-accent shadow-sm border border-gray-100 hover:bg-accent hover:text-white transition-colors"
          >
            <Phone size={14} />
          </a>
        </div>
      );

      // --- 9. Main App Component ---
      const App = () => {
        const [activeTab, setActiveTab] = useState("itinerary");

        return (
          <div className="min-h-screen bg-surface">
            <Header />
            <Navigation activeTab={activeTab} setActiveTab={setActiveTab} />

            <main className="max-w-5xl mx-auto px-4 py-8 pb-24">
              {/* Itinerary Tab */}
              {activeTab === "itinerary" && (
                <div>
                  <FlightCard flight={CEBU_DATA.flight.out} direction="out" />
                  {CEBU_DATA.itinerary.map((day, index) => (
                    <DayCard key={index} day={day} index={index} />
                  ))}
                </div>
              )}

              {/* Hotels Tab */}
              {activeTab === "hotels" && (
                <div>
                  <div className="mb-8 px-2 animate-fade-up">
                    <h2 className="text-3xl font-display font-bold text-primary mb-2">
                      嚴選住宿
                    </h2>
                    <p className="text-sm text-subtle">
                      Selected Luxury Hotels
                    </p>
                  </div>
                  {CEBU_DATA.hotels.map((hotel, index) => (
                    <HotelCard key={index} hotel={hotel} index={index} />
                  ))}
                </div>
              )}

              {/* Dining Tab */}
              {activeTab === "dining" && (
                <div>
                  <div className="mb-8 px-2 animate-fade-up">
                    <h2 className="text-3xl font-display font-bold text-primary mb-2">
                      特色美饌
                    </h2>
                    <p className="text-sm text-subtle">
                      Featured Dining Experience
                    </p>
                  </div>
                  {CEBU_DATA.dining.map((dining, index) => (
                    <DiningCard key={index} dining={dining} index={index} />
                  ))}
                </div>
              )}

              {/* Info Tab */}
              {activeTab === "info" && (
                <div>
                  <div className="mb-8 px-2 animate-fade-up">
                    <h2 className="text-3xl font-display font-bold text-primary mb-2">
                      旅程資訊
                    </h2>
                    <p className="text-sm text-subtle">Trip Information</p>
                  </div>

                  {/* Contact */}
                  <div className="bg-white rounded-3xl p-6 mb-6 shadow-lg animate-fade-up">
                    <h3 className="text-lg font-bold text-primary mb-4 flex items-center">
                      <Phone size={20} className="text-accent mr-2" />
                      聯絡資料
                    </h3>
                    <div className="space-y-4">
                      {CEBU_DATA.contact.map((contact, idx) => (
                        <ContactCard key={idx} contact={contact} />
                      ))}
                    </div>
                  </div>

                  {/* Return Flight */}
                  <FlightCard
                    flight={CEBU_DATA.flight.in}
                    direction="in"
                  />

                  <p className="text-center text-[10px] text-subtle mt-8 opacity-60">
                    資料來源：大云永續 2025 行程手冊 • 請自行攜帶護照
                  </p>
                </div>
              )}
            </main>
          </div>
        );
      };

      // --- 10. 渲染到 DOM ---
      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
